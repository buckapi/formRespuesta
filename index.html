<!DOCTYPE html>
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="" />
      <meta name="keywords" content="" />
      <title>Aplicación servicio de garente | Legales.com.co</title>
      <link rel="icon" href="img/fav.png" type="image/png" sizes="16x16">
      <link rel="stylesheet" href="css/icofont.min.css">
      <link rel="stylesheet" href="css/foundation.min.css">
      <link rel="stylesheet" href="css/fullpage.css">
      <link rel="stylesheet" href="css/perfect-scrollbar.min.css">
      <link rel="stylesheet" href="css/modal-animated.css">
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="css/responsive.css">
   </head>
	
<body class="solid-bg">
	
  <div class="page-loader" id="page-loader">
	 <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
	  <span>Loading...</span>
  </div><!-- page loader -->
	
  <div class="page-cover" id="s-cover">
	 <!--<div class="cover-bg">
		<img src="img/bg-default.jpg" alt="">
	 </div>-->
	 <!--<div id="" class="blackish">
		<div id="home" class="home-bg" data-stellar-background-ratio="0.6">
			<div id="bg-youtube" class="player" data-property="{videoURL:'https://www.youtube.com/watch?v=2uQ58Xwx1V4', 
				containment:'#home', 
				showControls:false, 
				autoPlay:true, 
				loop:true, 
				mute:true, 
				startAt:0, 
				opacity:1, 
				addRaster:true,
				quality:'default'}">
			</div>
		</div>
	  </div>--><!-- background youtube video -->
  </div>
	
  <nav class="quick-link count-4 nav-left">
	 <div class="logo">
		<a href="index.html#home">
		<img src="img/logo_only.png" alt="Logo">
		</a>
	 </div>
	 <ul id="qmenu" class="qmenu">
		<li data-menuanchor="home">
		   <a href="index.html#home" class=""><i class="icofont-info-circle"></i>
		   </a>
		   <span class="title">Home</span>
		</li>
		<!-- <li data-menuanchor="about-us">
		   <a href="index.html#about-us"><i class="icofont-info-circle"></i>
		   </a>
		   <span class="title">About Us</span>
		</li> -->
		<li data-menuanchor="services">
		   <a href="index.html#services"><i class="icofont-architecture-alt"></i>
		   </a>
		   <span class="title">Solicitues</span>
		</li>
		<!-- <li data-menuanchor="portfolio">
		   <a href="index.html#portfolio"><i class="icofont-slidshare"></i>
		   </a>
		   <span class="title">portfolio</span>
		</li>
		<li data-menuanchor="blog">
		   <a href="index.html#blog"><i class="icofont-brightkite"></i>
		   </a>
		   <span class="title">blog</span>
		</li>
		<li data-menuanchor="contact">
		   <a href="index.html#contact"><i class="icofont-map-pins"></i>
		   </a>
		   <span class="title">Contact</span>
		</li> -->
	 </ul>
  </nav><!-- side nav -->
  
  <div class="pane-when " id="s-when">
	 <div class="content">
		<div class="avatar">
		   <div class="elem-center">
			  <div class="">
				 <img src="img/student.png" alt="">
			  </div>
		   </div>
		</div>
		<div class="bottombar">
		   <span>&copy; Aplicación Servicio de Garente <a href="https://legales.com.co" style="color: #000;">@Legales.com.co</a> Desarrollador por <a href="https://buckapi.com" style="color: #000;"> Buckapi</a></span>
		</div>
	 </div>
  </div><!-- student image -->
	
  <main class="page-main" id="mainpage">
	 <div class="section page-home page page-cent" id="s-home">
		<section class="content">
		   <header class="header">
			  <div class="h-left">
				 <h2>Aplicación servicio de garente</h2>
			  </div>
			  <div class="aris-meta">
				 <h3>Legales.com.co <span></span></h3>
				 <p>
					A continuación se presentan los resultados obtenidos desde el formulario aplicado en la web Legales.com.co como solicitudes de los clientes
				 </p>
				 <!-- <a href="index.html#contact" title="" class="main-btn">Contact Now</a>
				 <a href="index.html#" title="" class="main-btn">Download CV</a> -->
			  </div>
		   </header>
		</section>
		<!-- Scroll down button -->
		<footer class="p-footer p-scrolldown">
		   <a href="index.html#services">
			  <div class="arrow-d">
				 <div class="before"></div>
				 <div class="after"></div>
				 <div class="circle bounce"><i class="icofont-wireless-mouse"></i></div>
			  </div>
		   </a>
		</footer>
	 </div>
	 <div class="section page-register page page-cent"  id="s-services">
		<section class="content">
		   <header class="p-title">
			  <h3>
				 <i class="icofont-architecture-alt"></i> Solicitudes
				 <span class="animated-bar"></span>
			  </h3>
		   </header>
			<div id="detailsView" style="display:none;">
		   	<div class="medium-6 columns">
					   <ul>
					   	<li>
						        <h4>Tipo de Servicio</h4>
						        <p id="detail-serviceType"></p>
						    </li>
						    <li>
						        <h4>Nombre</h4>
						        <p id="detail-name"></p>
						    </li>
						    <li>
						        <h4>Tipo de Cliente</h4>
						        <p id="detail-clientType"></p>
						    </li>

						    <li>
						        <h4>Email</h4>
						        <p id="detail-email"></p>
						    </li>
						    <li>
						        <h4>Teléfono</h4>
						        <p id="detail-phone"></p>
						    </li>
						    <li>
						        <h4>Tipo de Identidad</h4>
						        <p id="detail-identityType"></p>
						    </li>
						    <li>
						        <h4>Número de Documento</h4>
						        <p id="detail-documentNumber"></p>
						    </li>
						</ul>

				</div>
				<div class="medium-6 columns">
					<li>
				        <h4>Info. Laboral</h4>
				        <p id="detail-labor"></p>
				    </li>
				    <li>
				        <h4>Declaración</h4>
				        <p id="detail-declaration"></p>
				    </li>
				    <li>
				        <h4>Comentarios</h4>
				        <p id="detail-comments"></p>
				    </li>
					<h3>Referencias</h3>
    					<ul id="detail-references"></ul>
				</div>

				<!-- 	<h4 id="detail-name"></h4>
			   <h3 id="detail-clientType"></h3>
				<p id="detail-email"></p>
				<p id="detail-phone"></p>
				<p id="detail-identityType"></p>
				<p id="detail-documentNumber"></p>
				<p id="detail-serviceType"></p>
				<p id="detail-labor"></p>
				<p id="detail-declaration"></p>
				<p id="detail-comments"></p>-->
			 
				<button onclick="backToList()">Volver a la Lista</button>
			</div>
		 
		   <div id="api-results-container" class="our-work"></div>
		 
		</section>
	 </div>
	
  </main><!-- main content area -->
	
 
  <script src="js/jquery.js"></script>
  <script src="js/fullpage.js"></script>
  <script src="js/typed.js"></script>
  <script src="js/perfect-scrollbar.jquery.min.js"></script>
  <script src="js/YTPlayer.min.js"></script>
  <!--<script src="https://www.google.com/recaptcha/api.js"></script> -->
	<script src="js/main.js"></script>
	<script>
		// Declarar una variable global para almacenar los datos
		var globalData;
	 
		function fetchPocketBaseData() {
		   fetch('https://db.buckapi.com:8085/api/collections/requests/records')
			  .then(response => {
				 if (!response.ok) {
					 throw new Error('Network response was not ok ' + response.statusText);
				 }
				 return response.json();
			  })
			  .then(data => {
				 // Asignar datos a la variable global
				 globalData = data;
	 
				 const container = document.getElementById('api-results-container');
				 container.innerHTML = '';
	 
				 globalData.items.forEach((record, index) => {
					container.innerHTML += `
						<div class="services" onclick="showDetails(${index})" style="cursor:pointer;">
							<div class="service-box">
								<h4>${record.name}</h4>
								<strong class="popup six">${record.serviceType}</strong>
							</div>
							<a  title="" class="main-btn">Ver</a>
						</div>`;
				 });
			  })

			  .catch(error => {
				 console.error('There was a problem with the fetch operation:', error);
			  });
		}
	 
		function showDetails(index) {
		   const detailsContainer = document.getElementById('detailsView');
		   const listContainer = document.getElementById('api-results-container');
	 
		   // Usar la variable global para acceder a los datos
		   const details = globalData.items[index];
	 
		   document.getElementById('detail-name').innerText = details.name;
		   document.getElementById('detail-phone').innerText = details.phone;
		   document.getElementById('detail-email').innerText = details.email;
		   document.getElementById('detail-identityType').innerText = details.identityType;
    		document.getElementById('detail-documentNumber').innerText = details.documentNumber;
    		document.getElementById('detail-serviceType').innerText = details.serviceType;
    		document.getElementById('detail-clientType').innerText = details.clientType;
    		document.getElementById('detail-labor').innerText = details.labor;
    		document.getElementById('detail-declaration').innerText = details.declaration;
    		document.getElementById('detail-comments').innerText = details.comments;

	    const referencesList = document.getElementById('detail-references');
		    referencesList.innerHTML = ''; // Limpiar la lista existente

		    if (globalData.items[index].references && globalData.items[index].references.length) {
		        globalData.items[index].references.forEach((reference) => {
		            let li = document.createElement('li');
		            li.innerText = `Nombre: ${reference.name}, Teléfono: ${reference.phone}, Email: ${reference.email}, Dirección: ${reference.address}`;
		            referencesList.appendChild(li);
		        });
		    } else {
		        referencesList.innerHTML = '<li>No hay referencias disponibles.</li>';
		    }

        listContainer.style.display = 'none';
        detailsContainer.style.display = 'block';
		}
	 
		function backToList() {
		   document.getElementById('detailsView').style.display = 'none';
		   document.getElementById('api-results-container').style.display = 'block';
		}
	 
		// Llamada a la función al cargar la página
		document.addEventListener('DOMContentLoaded', fetchPocketBaseData);
	 </script>
	 
	 
	 
</body>
</html>